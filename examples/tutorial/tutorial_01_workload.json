
# cardinality: the task is run that many times
# all string based values will be expanded with mactching values from the
# application config.  For example, if the applation config sets `n_tasks : 10`,
# then `"cardinality" : "%(n_tasks)d"` will expand to `"cardinality" : "10"`.

{             # workload
  "tasks" : [ # tasks
  {           # task 1
    "cardinality"       : "%(bag_size)d",
  # "executable"        : "/bin/echo",
  # "arguments"         : ["%(mdrun)s", "topol.tpr"],
    "executable"        : "%(mdrun)s",
    "arguments"         : ["topol.tpr"],
    "working_directory" : "%(home)s/troy_tutorial/troy_tutorial_01_%(cardinal)d/",
    "inputs"            : ["%(local_appdir)s/input/topol.tpr > topol.tpr"],
    "outputs"           : ["output/%(demo_id)s_state.cpt.%(cardinal)d   < state.cpt",
                           "output/%(demo_id)s_confout.gro.%(cardinal)d < confout.gro",
                           "output/%(demo_id)s_ener.edr.%(cardinal)d    < ener.edr",
                           "output/%(demo_id)s_traj.trr.%(cardinal)d    < traj.trr",
                           "output/%(demo_id)s_md.log.%(cardinal)d      < md.log"]
  }           # task 1
  ]           # tasks
}             # workload

